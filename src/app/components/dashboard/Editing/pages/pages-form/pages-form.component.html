<div class="container-fluid p-5">

    <form #pageForm="ngForm">
        <mat-hint>
            <h3 id="hint1"><strong> Les champs du titre, de la présentation ainsi que du premier  paragraphe sont obligatoires. </strong></h3>
            <h3><strong>Si vous souhaitez que l'un des champs  optionels soit invisible sur la page d'affichage, laissez simplement ce champ vide.</strong></h3>
        </mat-hint>
        <hr>
        <!-- TITRE -->
        <div class="form-group">
            <label for="titre"><h2>Titre</h2></label>
            <input type="text" name="titre" id="titre" #titreInput="ngModel" [ngClass]="{'is-invalid' : titreInput.invalid && titreInput.touched}" class="form-control" [(ngModel)]="page.titre" required>
            <mat-error *ngIf="titreInput?.hasError('required')">
                <strong>Le titre est obligatoire</strong>
            </mat-error>
        </div>

        <!-- IMAGE HAUT DE PAGE -->
        <div class="form-group">
            <label for="image1"><h2>Image haut de page</h2></label>
            <input type="text" name="image1" id="image1" class="form-control" [(ngModel)]="page.image1">
            <div>
                <mat-hint>
                    <button type="button" class="btn btn-link" (click)="gotolink.goToLink('https://postimages.org/')"> Veuillez héberger votre image (de préference au format WebP) sur ce site puis copier l'adresse 'Lien direct de votre image' dans le champ ci-dessus</button>                    </mat-hint>
            </div>
        </div>
        <!-- PRESENTATION -->
        <div class="form-group">
            <label for="contenu"><h2>Présentation</h2></label>
            <textarea #presInput="ngModel" [ngClass]="{'is-invalid' : presInput.invalid && presInput.touched}" type="textarea" name="pres" id="pres" class="form-control" [(ngModel)]="page.pres" required cdkAutosizeMaxRows="10"></textarea>
            <mat-error *ngIf="presInput?.hasError('required')">
                <strong>La présentation est obligatoire</strong>
            </mat-error>
        </div>
        <!-- SOUSTITRE 1 -->
        <div class="form-group">
            <label for="contenu"><h2>Sous-titre 1</h2></label>
            <textarea type="textarea" name="st1" id="st1" class="form-control" [(ngModel)]="page.st1"></textarea>
        </div>
        <!-- PARAGRAPHE 1 -->
        <div class="form-group">
            <label for="contenu"><h2>Paragraphe 1</h2></label>
            <textarea type="textarea" name="pa1" id="pa1" class="form-control" #pa1Input="ngModel" [ngClass]="{'is-invalid' : pa1Input.invalid && pa1Input.touched}" [(ngModel)]="page.pa1" required cdkAutosizeMaxRows="10"></textarea>
            <mat-error *ngIf="pa1Input?.hasError('required')">
                <strong>Le premier paragraphe est obligatoire</strong>
            </mat-error>
        </div>
        <!-- SOUSTITRE 2 -->
        <div class="form-group">
            <label for="contenu"><h2>Sous-titre 2</h2></label>
            <textarea type="textarea" name="st2" id="st2" class="form-control" [(ngModel)]="page.st2"></textarea>
        </div>
        <!-- PARAGRAPHE 2 -->
        <div class="form-group">
            <label for="contenu"><h2>Paragraphe 2</h2></label>
            <textarea type="textarea" name="pa2" id="pa2" class="form-control" [(ngModel)]="page.pa2" cdkAutosizeMaxRows="10"></textarea>
        </div>
        <!-- IMAGE MILIEU DE PAGE -->
        <div class="form-group">
            <label for="image2"><h2>Image milieu de page</h2></label>
            <input type="text" name="image2" id="image2" class="form-control" [(ngModel)]="page.image2">
            <div>
                <mat-hint>
                    <button type="button" class="btn btn-link" (click)="gotolink.goToLink('https://postimages.org/')"> Veuillez héberger votre image (de préference au format WebP) sur ce site puis copier l'adresse 'Lien direct de votre image' dans le champ ci-dessus</button>                    </mat-hint>
            </div>
        </div>
        <!-- SOUSTITRE 3 -->
        <div class="form-group">
            <label for="contenu"><h2>Sous-titre 3</h2></label>
            <textarea type="textarea" name="st3" id="st3" class="form-control" [(ngModel)]="page.st3"></textarea>
        </div>
        <!-- PARAGRAPHE 3 -->
        <div class="form-group">
            <label for="contenu"><h2>Paragraphe 3</h2></label>
            <textarea type="textarea" name="pa3" id="pa3" class="form-control" [(ngModel)]="page.pa3" cdkAutosizeMaxRows="10"></textarea></div>

        <!-- SOUSTITRE 4 -->
        <div class="form-group">
            <label for="contenu"><h2>Sous-titre 4</h2></label>
            <textarea type="textarea" name="st4" id="st4" class="form-control" [(ngModel)]="page.st4"></textarea>
        </div>
        <!-- PARAGRAPHE 4 -->
        <div class="form-group">
            <label for="contenu"><h2>Paragraphe 4</h2></label>
            <textarea type="textarea" name="pa4" id="pa4" class="form-control" [(ngModel)]="page.pa4" cdkAutosizeMaxRows="10"></textarea></div>

        <!-- SOUSTITRE 5 -->
        <div class="form-group">
            <label for="contenu"><h2>Sous-titre 5</h2></label>
            <textarea type="textarea" name="st5" id="st5" class="form-control" [(ngModel)]="page.st5"></textarea>
        </div>
        <!-- PARAGRAPHE 5 -->
        <div class="form-group">
            <label for="contenu"><h2>Paragraphe 5</h2></label>
            <textarea type="textarea" name="pa5" id="pa5" class="form-control" [(ngModel)]="page.pa5"></textarea></div>
        <!-- IMAGE BAS DE PAGE -->
        <div class="form-group">
            <label for="image3"><h2>Image bas de page</h2></label>
            <input type="text" name="image3" id="image3" class="form-control" [(ngModel)]="page.image3">
            <div>
                <mat-hint>
                    <button type="button" class="btn btn-link" (click)="gotolink.goToLink('https://postimages.org/')"> Veuillez héberger votre image (de préference au format WebP) sur ce site puis copier l'adresse 'Lien direct de votre image' dans le champ ci-dessus</button>                    </mat-hint>
            </div>
        </div>
        <!-- TEXTE BOUTON  LIEN -->
        <div class="form-group">
            <label for="titre"><h2>Texte du bouton qui sera affiché en fin de page</h2></label>
            <input type="text" name="nomlien" id="nomlien" class="form-control" [(ngModel)]="page.nomlien">
        </div>
        <!-- URL DU LIEN-->
        <div class="form-group">
            <label for="titre"><h2>Adresse URL du lien</h2></label>
            <input type="text" name="lien" id="lien" class="form-control" [(ngModel)]="page.lien">
        </div>
        <hr>
        <div class="buttoncontainer">
            <button type='submit' class="btn btn-primary m-1 myButton" (click)="save(pageForm)">Enregistrer</button>
            <button class="btn btn-success m-1 myButton" routerLink="../../pages">Retour</button>
            <button class="btn btn-danger m-1 myButton" *ngIf="page.id !== undefined" (click)="delete()">Supprimer</button>
        </div>
    </form>
</div>
